\documentclass{beamer}

\usetheme[bgphoto]{polimi}
% Full instructions available at:
% https://github.com/elauksap/beamerthemepolimi

% Set custom font (requires to compile with XeLaTeX).
\usepackage{ifxetex}
\ifxetex
    \usepackage{fontspec}
    \setsansfont[Scale=0.95]{Arial}
\fi

\usepackage{subfig} % Numbered and caption subfigures using \subfloat.
\usepackage[font={scriptsize}]{caption}
\usepackage{mathtools}
\usepackage{adjustbox}

\usepackage{lipsum}

\title{Three-Dimensional Bin Packing \\ with Vertical Support}
\subtitle{}
\author{Jacopo Libè}
\date{952914}

\begin{document}
    \begin{frame}
        \maketitle
    \end{frame}
    
    \begin{frame}{Table of contents}
      \tableofcontents
    \end{frame}
    
    \section{Introduction}
    \begin{frame}{Case study}
        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-55mm-5mm}
                \begin{itemize}
                    \item Large warehouses
                    \item Mixed-case palletization
                    \item No control over items' shape (strongly heterogeneous)
                    \item Pallets wrapped during loading procedure
                \end{itemize}
                \vspace{-5mm}
                \begin{figure}[H]
                    \resizebox{\columnwidth}{!}{%
                        \includegraphics{Images/presentation/example_pit_pallettization.png}
                    }
                    \caption*{Example of pit pallettization} %(\hyperlink{https://www.youtube.com/watch?v=_sSdk1baNLA}{Schäfer Case Picking | SSI SCHÄFER})
                \end{figure}
            \column{55mm}
                \begin{figure}
                    \resizebox{\columnwidth}{!}{%
                        \includegraphics{Images/logo_ermesx_highcontrast}
                    }
                \end{figure}
                \begin{figure}
                    \resizebox{\columnwidth}{!}{%
                        \input{Images/presentation/cage_ratio}
                    }
                    \caption*{Cage ratio of two different bin configurations}
                    \label{fig:cage_ratio}
                \end{figure}
        \end{columns}
    \end{frame}

    \begin{frame}{Vertical Support}
        \begin{block}{Definition}
            An item has vertical support if one of the following conditions holds:
            \begin{itemize}
                \item \textbf{Condition 1}: at least a percentage $\alpha_s$ of its base area is resting on other items
                \item \textbf{Condition 2}: at least 3 of its vertices are resting over other items and \textbf{Condition 1} holds with a lower percentage
            \end{itemize}
        \end{block}
        \begin{figure}[H]
            \resizebox{!}{30mm}{%
                \input{Images/support}
            }
            %\caption*{Representation of an item with conditions 1 and 2 of vertical support given $\alpha_s = 0.5, \beta_s$}
            \label{fig:support}
        \end{figure}
    \end{frame}

    \section{Problem Definition}
    \begin{frame}{Literature Review}
        \textbf{Problem}: pack a set of cuboids into the minimum amount of bins, maximizing the cage ratio of used bins, without overlaps, and with every item having vertical support
        \begin{itemize}
            \item The problem is NP-Hard
            \item Exact methods may lead to optimal solutions only in fairly small instances %Cite?
            \item Existing 3D-BPP heuristics don't consider vertical support
            \item Solutions for container loading and pallet loading problems are layer based
        \end{itemize}
    \end{frame}

    \begin{frame}{MILP Model - Coordinate System}
        \begin{figure}
            \scalebox{0.45}{%
            \input{Images/coordinate_system}
            }
            \caption*{Coordinate system representation for a generic item $i$ and its rotated clone $i \in I^R$}
            \label{fig:coordinate_system}
        \end{figure}
    \end{frame}

    \begin{frame}{Conceptual Formulation}
        \begin{eqnarray*}
            \textbf{minimize} & \text{number of used bins} \\
            \textbf{then, maximize} & \text{average cage ratio of the used bins} \\
            \textbf{subject to} & \text{all items are assigned to one and only one bin} \\
                                              & \text{all items are inside the bin's bounds} \\
                                              & \text{no overlaps between items in the same bin} \\
                                              & \text{all items have vertical support} \\
        \end{eqnarray*}
    \end{frame}

    \begin{frame}{MILP Model - Objective Function}

        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-75mm-5mm}
                \vspace{.12\textheight}
                \hspace{-5mm}
                \resizebox{17mm}{!}{
                    \begin{minipage}{\linewidth}
                    \begin{eqnarray*}
                        \textbf{minimize} & \text{number of used bins} \\
                        \textbf{then, maximize} & \text{average cage ratio of the used bins} \\
                        \color{gray}
                        \textbf{subject to} & \color{gray} \text{all items are assigned to one and only one bin} \\
                                                            & \color{gray} \text{all items are inside the bin's bounds} \\
                                                            & \color{gray} \text{no overlaps between items in the same bin} \\
                                                            & \color{gray} \text{all items have vertical support} \\
                    \end{eqnarray*}
                    \end{minipage}
                }
                
                \begin{figure}[H]
                    \centering
                    \input{Images/presentation/use_variables}
                \end{figure}

            \column{75mm}
            \resizebox{!}{30mm}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                       \min       \qquad& \sum\limits_{b \in B} (H v_b + z^{max}_b) & \notag \\
                      \text{s.t.} \qquad & \color{gray} \sum\limits_{b \in B} u_{ib} + \sum\limits_{b \in B} u_{jb} = 1                          & \color{gray} \forall (i, j) \in I^{OR} \notag \\
                                         & \color{gray} u_{ib} \le v_b                                                                           & \color{gray} \forall i \in I, \forall b \in B \notag \\
                                         & \color{gray} v_b \ge v_c                                                                              & \color{gray} \forall (b,c) \in B : b < c  \notag \\
                                         & \color{gray} x_i + w_i \le W                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} y_i + d_i \le D                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} z_i + h_i \le H                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} (x_i + w_i) - x_j\le W(1 - x^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x_j - (x_i + w_i) + 1 \le W x^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (y_i + d_i) - y_j \le D(1 - y^p_{ij})                                                    & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} y_j - (y_i + d_i) + 1 \le D y^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (z_i + h_i) - z_j\le H(1 - z^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} z_j - (z_i + h_i) + 1 \le H z^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x^p_{ij} + x^p_{ji} + y^p_{ij} + y^p_{ji} + z^p_{ij} + z^p_{ji} \ge u_{ib} + u_{jb} - 1  & \color{gray} \forall i,j \in I, \forall b \in B \notag \\
                                         & z^{max}_b \ge (z_i + h_i) - H(1-u_{ib})                                                               & \forall i \in I, \forall b \in B \notag
                    \end{align}
                \end{minipage}
            }
            \end{columns}
    \end{frame}

    \begin{frame}{MILP Model - Geometric Constraints 1}

        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-75mm-5mm}
                \vspace{.12\textheight}
                \hspace{-5mm}
                \resizebox{17mm}{!}{
                    \begin{minipage}{\linewidth}
                    \begin{eqnarray*}
                        \color{gray} \textbf{minimize} & \color{gray} \text{number of used bins} \\
                        \color{gray} \textbf{then, maximize} & \color{gray} \text{average cage ratio of the used bins} \\
                        \textbf{subject to} & \text{all items are assigned to one and only one bin} \\
                                                            & \color{gray} \text{all items are inside the bin's bounds} \\
                                                            & \color{gray} \text{no overlaps between items in the same bin} \\
                                                            & \color{gray} \text{all items have vertical support} \\
                    \end{eqnarray*}
                    \end{minipage}
                }
                
                \begin{figure}[H]
                    \centering
                    \input{Images/presentation/use_variables}
                \end{figure}

            \column{75mm}
            \resizebox{!}{30mm}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                \color{gray} \min \qquad & \color{gray} \sum\limits_{b \in B} (H v_b + z^{max}_b)                                                & \notag \\
                      \text{s.t.} \qquad & \sum\limits_{b \in B} u_{ib} + \sum\limits_{b \in B} u_{jb} = 1                          & \forall (i, j) \in I^{OR} \notag \\
                                         & u_{ib} \le v_b                                                                           & \forall i \in I, \forall b \in B \notag \\
                                         & v_b \ge v_c                                                                              & \forall (b,c) \in B : b < c  \notag \\
                                         & \color{gray} x_i + w_i \le W                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} y_i + d_i \le D                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} z_i + h_i \le H                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} (x_i + w_i) - x_j\le W(1 - x^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x_j - (x_i + w_i) + 1 \le W x^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (y_i + d_i) - y_j \le D(1 - y^p_{ij})                                                    & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} y_j - (y_i + d_i) + 1 \le D y^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (z_i + h_i) - z_j\le H(1 - z^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} z_j - (z_i + h_i) + 1 \le H z^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x^p_{ij} + x^p_{ji} + y^p_{ij} + y^p_{ji} + z^p_{ij} + z^p_{ji} \ge u_{ib} + u_{jb} - 1  & \color{gray} \forall i,j \in I, \forall b \in B \notag \\
                                         & \color{gray} z^{max}_b \ge (z_i + h_i) - H(1-u_{ib})                                                  & \color{gray} \forall i \in I, \forall b \in B \notag
                    \end{align}
                \end{minipage}
            }
            \end{columns}
    \end{frame}


    \begin{frame}{MILP Model - Geometric Constraints 2}

        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-75mm-5mm}
                \vspace{.25\textheight}
                \hspace{-5mm}
                \resizebox{17mm}{!}{
                    \begin{minipage}{\linewidth}
                    \begin{eqnarray*}
                        \color{gray} \textbf{minimize} & \color{gray} \text{number of used bins} \\
                        \color{gray} \textbf{then, maximize} & \color{gray} \text{average cage ratio of the used bins} \\
                        \textbf{subject to} & \color{gray} \text{all items are assigned to one and only one bin} \\
                                                            & \text{all items are inside the bin's bounds} \\
                                                            & \color{gray} \text{no overlaps between items in the same bin} \\
                                                            & \color{gray} \text{all items have vertical support} \\
                    \end{eqnarray*}
                    \end{minipage}
                }

            \column{75mm}
            \resizebox{!}{30mm}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                \color{gray} \min \qquad & \color{gray} \sum\limits_{b \in B} (H v_b + z^{max}_b)                                                & \notag \\
                      \text{s.t.} \qquad & \color{gray} \sum\limits_{b \in B} u_{ib} + \sum\limits_{b \in B} u_{jb} = 1                          & \color{gray} \forall (i, j) \in I^{OR} \notag \\
                                         & \color{gray} u_{ib} \le v_b                                                                           & \color{gray} \forall i \in I, \forall b \in B \notag \\
                                         & \color{gray} v_b \ge v_c                                                                              & \color{gray} \forall (b,c) \in B : b < c  \notag \\
                                         & x_i + w_i \le W                                                                          & \forall i \in I \notag \\ 
                                         & y_i + d_i \le D                                                                          & \forall i \in I \notag \\ 
                                         & z_i + h_i \le H                                                                          & \forall i \in I \notag \\ 
                                         & \color{gray} (x_i + w_i) - x_j\le W(1 - x^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x_j - (x_i + w_i) + 1 \le W x^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (y_i + d_i) - y_j \le D(1 - y^p_{ij})                                                    & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} y_j - (y_i + d_i) + 1 \le D y^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} (z_i + h_i) - z_j\le H(1 - z^p_{ij})                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} z_j - (z_i + h_i) + 1 \le H z^p_{ij}                                                     & \color{gray} \forall i,j \in I \notag \\
                                         & \color{gray} x^p_{ij} + x^p_{ji} + y^p_{ij} + y^p_{ji} + z^p_{ij} + z^p_{ji} \ge u_{ib} + u_{jb} - 1  & \color{gray} \forall i,j \in I, \forall b \in B \notag \\
                                         & \color{gray} z^{max}_b \ge (z_i + h_i) - H(1-u_{ib})                                                  & \color{gray} \forall i \in I, \forall b \in B \notag
                    \end{align}
                \end{minipage}
            }
            \end{columns}
    \end{frame}


    \begin{frame}{MILP Model - Geometric Constraints 3}

        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-75mm-5mm}
                \vspace{.12\textheight}
                \hspace{-5mm}
                \resizebox{17mm}{!}{
                    \begin{minipage}{\linewidth}
                    \begin{eqnarray*}
                        \color{gray} \textbf{minimize} & \color{gray} \text{number of used bins} \\
                        \color{gray} \textbf{then, maximize} & \color{gray} \text{average cage ratio of the used bins} \\
                        \textbf{subject to} & \color{gray} \text{all items are assigned to one and only one bin} \\
                                                            & \color{gray} \text{all items are inside the bin's bounds} \\
                                                            & \text{no overlaps between items in the same bin} \\
                                                            & \color{gray} \text{all items have vertical support} \\
                    \end{eqnarray*}
                    \end{minipage}
                }
                
                \begin{figure}
                    \resizebox{1.35\columnwidth}{!}{
                        \input{Images/presentation/precedences_model}
                    }
                    \caption*{Precedences variables (2D case)}
                \end{figure}
            \column{75mm}
            \resizebox{!}{30mm}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                \color{gray} \min \qquad & \color{gray} \sum\limits_{b \in B} (H v_b + z^{max}_b)                                                & \notag \\
                      \text{s.t.} \qquad & \color{gray} \sum\limits_{b \in B} u_{ib} + \sum\limits_{b \in B} u_{jb} = 1                          & \color{gray} \forall (i, j) \in I^{OR} \notag \\
                                         & \color{gray} u_{ib} \le v_b                                                                           & \color{gray} \forall i \in I, \forall b \in B \notag \\
                                         & \color{gray} v_b \ge v_c                                                                              & \color{gray} \forall (b,c) \in B : b < c  \notag \\
                                         & \color{gray} x_i + w_i \le W                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} y_i + d_i \le D                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & \color{gray} z_i + h_i \le H                                                                          & \color{gray} \forall i \in I \notag \\ 
                                         & (x_i + w_i) - x_j\le W(1 - x^p_{ij})                                                     & \forall i,j \in I \notag \\
                                         & x_j - (x_i + w_i) + 1 \le W x^p_{ij}                                                     & \forall i,j \in I \notag \\
                                         & (y_i + d_i) - y_j \le D(1 - y^p_{ij})                                                    & \forall i,j \in I \notag \\
                                         & y_j - (y_i + d_i) + 1 \le D y^p_{ij}                                                     & \forall i,j \in I \notag \\
                                         & (z_i + h_i) - z_j\le H(1 - z^p_{ij})                                                     & \forall i,j \in I \notag \\
                                         & z_j - (z_i + h_i) + 1 \le H z^p_{ij}                                                     & \forall i,j \in I \notag \\
                                         & x^p_{ij} + x^p_{ji} + y^p_{ij} + y^p_{ji} + z^p_{ij} + z^p_{ji} \ge u_{ib} + u_{jb} - 1  & \forall i,j \in I, \forall b \in B \notag \\
                                         & \color{gray} z^{max}_b \ge (z_i + h_i) - H(1-u_{ib})                                                  & \color{gray} \forall i \in I, \forall b \in B \notag
                    \end{align}
                \end{minipage}
            }
            \end{columns}
    \end{frame}


    \begin{frame}{MILP Model - Vertical Support}
        \begin{eqnarray*}
            \color{gray} \textbf{minimize} & \color{gray} \text{number of used bins} \\
            \color{gray} \textbf{then, maximize} & \color{gray} \text{average cage ratio of the used bins} \\
            \textbf{subject to} & \color{gray} \text{all items are assigned to one and only one bin} \\
                                                & \color{gray} \text{all items are inside the bin's bounds} \\
                                                & \color{gray} \text{no overlaps between items in the same bin} \\
                                                & \text{all items have vertical support} \\
        \end{eqnarray*}
    \end{frame}

    \begin{frame}{MILP Model - Closeness}
        \begin{columns}[onlytextwidth,T]
        \column{\dimexpr\linewidth-75mm-5mm}
            \begin{figure}
                \hspace*{-5mm}
                \resizebox{1.35\columnwidth}{!}{
                    \input{Images/presentation/closeness_model}
                }
                \caption*{Closeness variables example}
            \end{figure}

        \column{75mm}
            \resizebox{\columnwidth}{!}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                        \text{s.t.} \qquad  & z_j - (z_i + h_i) \le \beta_s + H (1 - z^c_{ij}) & \forall (i, j) \in I : i \neq j \notag \\
                        & z_j - (z_i + h_i) \ge -\beta_s - H (1 - z^c_{ij}) & \forall (i, j) \in I : i \neq j \notag \\
                        & s_{ij} \le z^p_{ij} & \forall (i, j) \in I  \notag \\
                        & s_{ij} \le z^c_{ij} & \forall (i, j) \in I  \notag \\
                        & s_{ij} \ge z^p_{ij} + z^c_{ij} - 2 & \forall (i, j) \in I : i \neq j \notag \\
                        & \sum_{\mathclap{j \in I}}{s_{ij}} \le \sum_{\mathclap{b \in B}}{u_{ib}} & \forall i \in I  \notag
                    \end{align}
                
                    \vspace{2mm}
                    \begin{figure}[H]
                        \centering
                        \hspace{2mm}
                        \input{Images/presentation/variable_support}
                    \end{figure}
                \end{minipage}
            }
        \end{columns}
    \end{frame}

    \begin{frame}{MILP Model - Discretized Vertical Support}
        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-75mm-5mm}
                \begin{figure}
                    \hspace*{-5mm}
                    \resizebox{1.35\columnwidth}{!}{
                        \input{Images/presentation/discretization}
                    }
                    \caption*{Space discretization}
                \end{figure}

            \column{75mm}
            \vspace*{15mm}
            \resizebox{!}{22mm}{
                \begin{minipage}{\linewidth}
                    \begin{align}
                        \text{s.t.} \qquad  & z_i \le H(1 - g_i) & \forall i \in I \notag \\
                                            & \sum_{\mathclap{(k, h) \in \Delta, b \in B : O(i, j, k, h) \neq 0}} s^{k h}_{i j b} \le s_{ij} & \forall (i, j) \in I \notag \\
                                            & \sum_{\mathclap{(k, h) \in \Delta : O(i, j, k, h) \neq 0}} s^{k h}_{i j b} \le u_{ib} & \forall (i, j, b) \in I^B \notag \\
                                            & \sum_{\mathclap{(k, h) \in \Delta : O(i, j, k, h) \neq 0}} s^{k h}_{i j b} \le u_{jb} & \forall (i, j, b) \in I^B \notag \\
                                            & x_j - x_i \ge \gamma k - 2W( 1 - s^{k h}_{i j b}) & \forall (k, h) \in \Delta, \forall (i, j, b) \in I^B : O(i, j, k, h) \neq 0 \notag \\
                                            & x_j - x_i \le \gamma (k + 1) + 2W( 1 - s^{k h}_{i j b}) & \forall (k, h) \in \Delta, \forall (i, j, b) \in I^B : O(i, j, k, h) \neq 0 \notag \\
                                            & y_j - y_i \ge \gamma h - 2D( 1 - s^{k h}_{i j b}) & \forall (k, h) \in \Delta, \forall (i, j, b) \in I^B : O(i, j, k, h) \neq 0 \notag \\
                                            & y_j - y_i \le \gamma (h + 1) + 2D( 1 - s^{k h}_{i j b}) & \forall (k, h) \in \Delta, \forall (i, j, b) \in I^B : O(i, j, k, h) \neq 0 \notag \\
                                            & \sum_{\mathclap{(k, h) \in \Delta, b \in B, j \in I : i \neq j \land O(i, j, k, h) \neq 0}}{ O(i, j, k, h)s^{k h}_{j i b}} \ge \alpha_s w_i d_i - w_i d_i g_i & \forall i \in I \notag
                    \end{align}
                \end{minipage}
            }
            \end{columns}
    \end{frame}

    \begin{frame}{MILP Model - Results}
        \input{tests/only_model}
    \end{frame}

    \section{Proposed Algorithm}
    \begin{frame}{Overview}
        Composed of:
        \begin{itemize}
            \item Constructive heuristic (Support Planes)
            \item Beam-Search
        \end{itemize}
        %Each node is a partial solution, starts from the empty solution
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{columns}[onlytextwidth,T]
            \column{\dimexpr\linewidth-65mm-5mm}
            \begin{itemize}
                \item Operates on a single bin
                \item Exploits a modified 2D-BPP heuristic
                \item No explicit layers
                \item Guarantees vertical support
            \end{itemize}
            \column{65mm}
                \begin{figure}[h]
                    \resizebox*{\columnwidth}{!}{%
                    \input{Images/support_planes}
                    }
                    \caption*{An example of a support plane generated by item 1}
                    \label{fig:heur_scheme}
                \end{figure}
            \end{columns}
    \end{frame}
    
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{\columnwidth}{!}{%
            \input{Images/presentation/simulation_0}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_1}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_2}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_3}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_4}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_5}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_6}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_7}
            }
        \end{figure}
    \end{frame}
    \begin{frame}{Support Planes}
        \begin{figure}[h]
            \resizebox*{!}{65mm}{%
            \input{Images/presentation/simulation_8}
            }
        \end{figure}
    \end{frame}

    \begin{frame}{Beam Search}
        \begin{columns}[onlytextwidth,T]
        \column{\dimexpr\linewidth-75mm-5mm}
        \vspace{5mm}
        \begin{itemize}
            \item Exploits support planes
            \item Branches on the type of item to place next
        \end{itemize}
        \column{75mm}
            \begin{figure}[h]
                \caption*{\textbf{Beam-Search}: truncated breadth-first tree search, limited to $k$ best nodes}
                \resizebox*{\columnwidth}{!}{%
                \input{Images/presentation/beam_search}
                }
            \end{figure}
        \end{columns}
    \end{frame}
    \begin{frame}{Beam Search}
        \begin{figure}[h]
            \resizebox*{!}{.7\textheight}{%
            \input{Images/heur_scheme}
            }
            \caption*{Conceptual representation of the proposed heuristic}
        \end{figure}
    \end{frame}
    \begin{frame}{Beam Search}
        \begin{figure}[h]
            \resizebox*{!}{.65\textheight}{%
            \input{Images/presentation/placement_modes}
            }
            \caption*{Proposed placement modes}
        \end{figure}
    \end{frame}
    \begin{frame}{Optimizations}
        \begin{columns}[onlytextwidth,T]
        \column{\dimexpr\linewidth-65mm-5mm}
            \begin{itemize}
                \item Prune duplicate nodes
                \item Fast overlap checks
                \item Lazy node updates
            \end{itemize}
        \column{65mm}
            \begin{figure}[h]
                \resizebox*{\columnwidth}{!}{%
                \input{Images/aabb_tree}
                }
                \caption*{AABB Tree, self-balancing tree of axis-aligned bounding boxes}
            \end{figure}
            %\vspace*{-15mm}
            %\begin{figure}
            %    \resizebox*{\columnwidth}{!}{%
            %    \begin{minipage}{\linewidth}
            %        \begin{align}
            %        hash_{ib} &= hash\_nc(b, x^s_i, y^s_i, z^s_i, w^s_i, d^s_i, h_i) \notag \\
            %        hash^s &= \sum\limits_{b \in B^s}{\sum\limits_{i \in J^s_b}{hash_{ib}}} \notag
            %        \end{align}
            %    \end{minipage}}
            %    \caption*{Hash of a solution $s$}
            %\end{figure}
        \end{columns}
    \end{frame}

    \section{Conclusions}

    \begin{frame}{Computational Experiments}
        \begin{table}[htbp]
            \centering
            \caption*{Comparison with MILP model on limited set of boxes}
            \resizebox{!}{25mm}{\begin{tabular}{|c|c|c|c|c|c|c|c|}
            \hline
            & \multicolumn{ 3}{c|}{\textbf{MILP Model}} & \multicolumn{ 2}{c|}{\textbf{PM}} & \multicolumn{ 2}{c|}{\textbf{PS}} \\ \hline
            \textbf{$n$} & \textbf{Max Z} & \textbf{TT(s)} & \textbf{Gap($\%$)} & \textbf{Max Z} & \textbf{TT(s)} & \textbf{Max Z} & \textbf{TT(s)} \\ \hline
            1  & 85   & 0.01     & 0.00 & 85  & 0.00 & 85  & 0.00 \\ 
            2  & 85   & 0.07     & 0.00 & 85  & 0.00 & 85  & 0.00 \\ 
            3  & 85   & 0.13     & 0.00 & 85  & 0.00 & 85  & 0.00 \\ 
            4  & 85   & 0.20     & 0.00 & 85  & 0.01 & 85  & 0.01 \\ 
            5  & 85   & 2.02     & 0.00 & 85  & 0.02 & 85  & 0.02 \\ 
            6  & 158  & 90.58    & 0.00 & 158 & 0.06 & 158 & 0.05 \\ 
            7  & 158  & 1,369.24 & 0.00 & 158 & 0.07 & 158 & 0.08 \\ 
            8  & 161* & 3,600.00 & 1.86 & 160 & 0.10 & 160 & 0.08 \\ \hline
            9  & -    & -        & -    & 169 & 0.09 & 161 & 0.10 \\ 
            10 & -    & -        & -    & 218 & 0.12 & 218 & 0.13 \\ 
            11 & -    & -        & -    & 240 & 0.12 & 240 & 0.12 \\ 
            12 & -    & -        & -    & 310 & 0.13 & 316 & 0.16 \\ 
            13 & -    & -        & -    & 310 & 0.15 & 333 & 0.18 \\ 
            14 & -    & -        & -    & 310 & 0.20 & 333 & 0.22 \\ 
            15 & -    & -        & -    & 406 & 0.21 & 397 & 0.27 \\ 
            16 & -    & -        & -    & 435 & 0.23 & 452 & 0.36 \\ 
            17 & -    & -        & -    & 429 & 0.27 & 515 & 0.41 \\ 
            18 & -    & -        & -    & 432 & 0.32 & 522 & 0.47 \\ 
            19 & -    & -        & -    & 458 & 0.35 & 522 & 0.55 \\ 
            20 & -    & -        & -    & 539 & 0.37 & 564 & 0.62 \\ \hline
            \end{tabular}}
            \label{exp:model}
            \caption*{* Some boxes had lower support than expected due to discretization errors.}
            \end{table}
        
    \end{frame}

    \begin{frame}{Computational Experiments}
        \begin{table}[htbp]
            \caption*{Average execution time of literature results with bin gap}
            \centering
            \resizebox{!}{25mm}{\begin{tabular}{|l|l|c|c|c|c|c|}
            \hline
            \multicolumn{2}{|c|}{\textbf{Heuristic}} & \multicolumn{4}{|c|}{\textbf{Execution Time (s)}} & \textbf{Bin Gap (\%)} \\ \hline
            \multicolumn{2}{|c|}{} & $n=50$ & $n=100$  & $n=150$ & $n=200$ &      \\ \hline
            \textbf{PM} & $k=1$    & 0.05   & 0.11     & 0.28    & 0.55    & 4.57 \\ 
                        & $k=5$    & 0.08   & 0.39     & 1.02    & 2.16    & 4.32 \\ 
                        & $k=10$   & 0.15   & 0.74     & 1.98    & 4.12    & 4.29 \\ 
                        & $k=20$   & 0.29   & 1.45     & 3.89    & 8.07    & 4.05 \\ 
                        & $k=50$   & 0.72   & 3.63     & 9.72    & 20.47   & 3.95 \\ \hline
            \textbf{PS} & $k=1$    & 0.04   & 0.18     & 0.51    & 1.08    & 4.35 \\ 
                        & $k=5$    & 0.12   & 0.74     & 2.19    & 4.79    & 4.01 \\ 
                        & $k=10$   & 0.23   & 1.43     & 4.19    & 9.39    & 3.94 \\ 
                        & $k=20$   & 0.47   & 2.81     & 8.48    & 18.93   & 3.74 \\ 
                        & $k=50$   & 1.15   & 6.74     & 21.03   & 45.78   & 3.52 \\ \hline
             \hline
             \multicolumn{2}{|l|}{\textbf{BRKGA-VD}} & 17.13 & 80.63 & 190.50 & 369.75 & 0.00 \\ \hline
            \end{tabular}}
            \label{exp:literature_time_gap}
        \end{table}
    \end{frame}

    \begin{frame}{Computational Experiments}\begin{table}[htbp]
        \centering
        \resizebox{!}{33mm}{
        \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
        \hline
        \textbf{Class} & $n$ & \textbf{PM} & \textbf{PS} & \textbf{TS3} & \textbf{GLS} & \textbf{GASP} & \textbf{EHGH2} & \textbf{GVN} & \textbf{BRKGA} & \textbf{BRKGA-VD} \\ 
        & & $k=50$ & $k=50$ &  &  &  &  &  &  &  \\ \cline{ 3- 11}\hline
        1 & 50 & 14.10 & \textit{14} & \textbf{13.4} & \textbf{13.4} & \textbf{13.4} & 13.8 & \textbf{13.4} & \textbf{13.4} & \textbf{13.4} \\ 
         & 100 & 28.3 & \textit{27.7} & \textbf{26.6} & \textbf{26.6} & 26.9 & 27.6 & \textbf{26.6} & \textbf{26.6} & \textbf{26.6} \\ 
         & 150 & \textit{38.1} & \textit{38.1} & 36.7 & 37 & 37 & 39.8 & 36.4 & 36.4 & \textbf{36.3} \\ 
         & 200 & 52.9 & \textit{52.6} & 51.2 & 51.2 & 51.6 & \textbf{50.6} & 50.9 & 50.8 & 50.8 \\ \hline
        2 & 50 & \textit{14.7} & \textit{14.7}& \textbf{13.8} & - & - & - & \textbf{13.8} & \textbf{13.8} & \textbf{13.8} \\ 
         & 100 & 26.6 & 26.6 & 25.7 & - & - & - & 25.7 & 25.6 & \textbf{25.5} \\ 
         & 150 & 38.3 & 38.7 & 37.2 & - & - & - & 36.9 & \textbf{36.6} & \textbf{36.6} \\ 
         & 200 & 51.1 & 51.6 & 50.1 & - & - & - & \textbf{49.4} & \textbf{49.4} & \textbf{49.4} \\ \hline
        3 & 50 & \textit{13.7} & 13.8 & \textbf{13.3} & - & - & - & \textbf{13.3} & \textbf{13.3} & \textbf{13.3} \\ 
         & 100 & 27.7 & 27.3 & 26 & - & - & - & 26 & \textbf{25.9} & \textbf{25.9} \\ 
         & 150 & 39.4 & 39 & 37.7 & - & - & - & 37.6 & \textbf{37.5} & \textbf{37.5} \\ 
         & 200 & 51.6 & \textit{51.3} & 50.5 & - & - & - & 50 & \textbf{49.8} & \textbf{49.8} \\ \hline
        4 & 50 & \textit{29.7} & \textit{29.7} & \textbf{29.4} & \textbf{29.4} & \textbf{29.4} & \textbf{29.4} & \textbf{29.4} & \textbf{29.4} & \textbf{29.4} \\ 
         & 100 & \textit{59.2} & \textit{59.2} & 59 & 59 & 59 & 59.5 & 59 & 59 & \textbf{58.9} \\ 
         & 150 &  87.7 & \textit{87.6} & \textbf{86.8} & \textbf{86.8} & \textbf{86.8} & 90.4 & \textbf{86.8} & \textbf{86.8} & \textbf{86.8} \\ 
         & 200 & \textit{119.5} & \textit{119.5} & \textbf{118.8} & 119 & \textbf{118.8} & 119 & \textbf{118.8} & \textbf{118.8} & \textbf{118.8} \\ \hline
        5 & 50 & \textit{8.6} & \textit{8.6} & 8.4 & 8.3 & 8.4 & \textbf{7.9} & 8.3 & 8.3 & 8.3 \\ 
         & 100 & 16.1 & 15.6 & 15 & 15.1 & 15.1 & \textbf{14.6} & 15 & 15 & 15 \\ 
         & 150 & 21.8 & \textit{21.3} & 20.4 & 20.2 & 20.6 & 21.5 & 20.4 & 20.1 & \textbf{19.9} \\ 
         & 200 & 29.1 & 28.3 & 27.6 & 27.2 & 27.7 & 29.6 & \textbf{27.1} & \textbf{27.1} & \textbf{27.1} \\ \hline
        6 & 50 & 10.3 & 10.3 & 9.9 & 9.8 & 9.9 & 11.8 & 9.8 & \textbf{9.7} & \textbf{9.7} \\ 
         & 100 & 19.7 & 19.7 & 19.1 & 19.1 & 19.1 & 19.2 & 19 & \textbf{18.9} & \textbf{18.9} \\ 
         & 150 & 30.2 & \textit{30.1} & 29.4 & 29.4 & 29.5 & 29.8 & 29.2 & \textbf{29} & \textbf{29} \\ 
         & 200 & 39 & \textit{38.4} & 37.7 & 37.7 & 38 & 38.7 & 37.4 & \textbf{37.3} & \textbf{37.3} \\ \hline
        7 & 50 & 7.7 & 7.8 & 7.5 & \textbf{7.4} & 7.5 & \textbf{7.4} & \textbf{7.4} & \textbf{7.4} & \textbf{7.4} \\ 
         & 100 & 13.3 & \textit{13.1} & 12.5 & 12.3 & 12.7 & 13.5 & 12.5 & \textbf{12.2} & \textbf{12.2} \\ 
         & 150 & 17.1 & \textit{16.8} & 16.1 & 15.8 & 16.6 & 18.2 & 16 & 15.3 & \textbf{15.2} \\ 
         & 200 & 24.8 & 24.7 & 23.9 & 23.5 & 24.2 & 24.1 & 23.5 & \textbf{23.4} & \textbf{23.4} \\ \hline
        8 & 50 & 9.9 & 9.7 & 9.3 & \textbf{9.2} & 9.3 & 9.4 & \textbf{9.2} & \textbf{9.2} & \textbf{9.2} \\ 
         & 100 & \textit{19.6} & 19.9 & 18.9 & 18.9 & 19 & 18.9 & 18.9 & 18.9 & \textbf{18.8} \\ 
         & 150 & 25.7 & 25.6 & 24.1 & 23.9 & 24.8 & 26 & 24.1 & \textbf{23.6} & \textbf{23.6} \\ 
         & 200 & 31.6 & \textit{31.1} & 30.3 & 29.9 & 31.1 & 35.8 & 29.8 & \textbf{29.3} & \textbf{29.3} \\ \hline
        \end{tabular}}
        \label{exp:literature_bins}
        \end{table}
        
    \end{frame}

    \begin{frame}{Computational Experiments}\begin{table}[htbp]
        \centering
        \caption*{Summary of case study tests}
        \resizebox{\columnwidth}{!}{\begin{tabular}{|c|c|c|c|c|c|c|}
        \hline
        & \multicolumn{ 3}{c|}{\textbf{PS}} & \multicolumn{ 3}{c|}{\textbf{PM}} \\ \hline
        \textbf{$k$} & \textbf{\textit{TT (ms)}} & \textbf{\textit{B}} & \textbf{\textit{CR (\%)}} & \textbf{\textit{TT (ms)}} & \textbf{\textit{B}} & \textbf{\textit{CR (\%)}} \\ \hline
        $1$ & 423.87 & 1.37 & 65.87 & 65.18 & 1.31 & \textbf{70.70} \\ 
        $5$ & 1,597.54 & 1.34 & 69.19 & 185.22 & 1.29 & \textbf{73.08} \\ 
        $10$ & 2,627.52 & 1.32 & 70.35 & 344.90 & 1.27 & \textbf{73.56} \\ 
        $20$ & 5,373.79 & 1.34 & 70.78 & 620.95 & 1.27 & \textbf{74.57} \\ 
        $50$ & 14,203.10 & 1.31 & 72.11 & 1,279.96 & 1.29 & \textbf{74.61} \\ 
        $100$ & 26,934.21 & 1.31 & 73.23 & 2,340.37 & 1.26 & \textbf{75.36} \\ 
        $200$ & 48,944.90 & 1.30 & 73.89 & 4,465.78 & 1.25 & \textbf{76.39} \\ \hline
        \end{tabular}}
        \label{results:usecase_summary}
        \end{table}
    \end{frame}

    \begin{frame}{Computational Experiments}
        \begin{table}[htbp]
        \caption*{Case study experiments trade off between average execution times and average cage ratio}
        \centering
        \resizebox{\columnwidth}{!}{\begin{tabular}{|c|c|c|c|c|}
        \hline
        \multicolumn{1}{|c|}{\textbf{$k$}} & \multicolumn{ 2}{c|}{\textbf{\textit{PS}}} & \multicolumn{ 2}{c|}{\textbf{\textit{PM}}} \\ \hline
        \multicolumn{1}{|c|}{} & $\textbf{\textit{CR*}} - \textbf{\textit{CR}}$ \textbf{\textit{(\%)}} & $\textbf{\textit{TT}} - \textbf{\textit{TT* (ms)}}$ & $\textbf{\textit{CR*}} - \textbf{\textit{CR}}$ \textbf{\textit{(\%)}} & $\textbf{\textit{TT}} - \textbf{\textit{TT* (ms)}}$ \\ \hline
        1 & 10.56 & 358.69 & 5.73 & 0.00 \\
        5 & 7.24 & 1,532.36 & 3.35 & 120.04 \\
        10 & 6.08 & 2,562.34 & 2.87 & 279.72 \\
        \textbf{20} & 5.65 & 5,308.61 & \textbf{1.85} & \textbf{555.77} \\
        \textbf{50} & 4.32 & 14,137.92 & \textbf{1.82} & \textbf{1,214.78} \\
        100 & 3.20 & 26,869.03 & 1.07 & 2,275.19 \\
        200 & 2.54 & 48,879.72 & 0.04 & 4,400.60 \\ \hline
        \end{tabular}~}
        \label{exp:usecase_tradeoff}
    \end{table}
    \end{frame}

    \begin{frame}{Results}
        \begin{figure}
            \centering
            \subfloat[Instance 95]{\includegraphics[width = 30mm]{Images/tests/usecase/instance-95_k200.PNG}} 
            \subfloat[Instance 82]{\includegraphics[width = 30mm]{Images/tests/usecase/instance-82_k200.PNG}}
            \subfloat[Instance 56]{\includegraphics[width = 30mm]{Images/tests/usecase/instance-56_k200.PNG}} 
            \subfloat[Instance 66, Bin 1]{\includegraphics[width = 30mm]{Images/tests/usecase/instance-66_bin1_k200.PNG}}
            \caption*{Solutions of case study tests with the "PM" placement and $k=200$}
            \label{fig:usecase_tests}
        \end{figure}
    \end{frame}

    \begin{frame}{Future Developments}
        \begin{itemize}
            \item More practical constraints
            \item Solution optimization heuristics
            \item Improvements to the underlying 2D-BPP heuristic
        \end{itemize}
    \end{frame}

    \begin{frame}{}
        \centering
        Thank you for your attention!

        Questions?
    \end{frame}
\end{document}