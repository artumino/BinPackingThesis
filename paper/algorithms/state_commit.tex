\begin{algorithm}[htbp]
    \DontPrintSemicolon
    \SetAlgoLined
    \SetKwInOut{Input}{input}
    \SetKwInOut{Output}{output}
    \Input{$s$}
    \Output{$s^\prime$}
    $s^\prime \gets Clone(s)$\CommentSty{ //Memory clone of $s$}\;
    $(b, I) \gets p^{s'}$\;
    \uIf{$b \in B^{s'}$}{
        $J^{s'}_b \gets J^{s}_b \cup I$\;
        $T^{s'}_{b} \gets T^{s}_{b} \cup I$\;
        $U^{s'} \gets U^{s} \setminus I$\;
    }\Else{
        \CommentSty{// Open a new bin}\;
        $B^{s'} \gets B^{s} \cup b$\;
        $J^{s'}_b \gets I$\;
        $T^{s'}_b \gets I$\;
        $U^{s'} \gets U^{s} \setminus I$\;
    }
    $p^{s'} \gets \varnothing$\;
    \Return{$s^\prime$}
    \caption{Commit \label{algo:state_commit}}
\end{algorithm}