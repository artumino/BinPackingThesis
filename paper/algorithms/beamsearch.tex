\begin{algorithm}[H] \label{algo:beamsearch}
    \DontPrintSemicolon
    \SetAlgoLined
    \SetKwInOut{Input}{input}
    \SetKwInOut{Output}{output}
    \Input{$S_{init}, k$}
    \Output{$S_{best}$}
    %NOTATION: iterazioni aggiungere apice per l'iterazione t-esima
    $S \leftarrow S_{init}$\;
    $S_{final} \leftarrow \emptyset$\;
    \Repeat{$S \neq \emptyset $}{
        $S_{new} \leftarrow Expand(S)$ (Algorithm \ref{algo:state_successor})\;
        $S_{final} \leftarrow S_{final} \cup \{s_i \in S_{new} : IsFinal(s_i) \}$\;
        $S_{new} \leftarrow S_{new} \setminus S_{final}$\;
        $S_{new} \leftarrow Sort(S_{new})$\;
        $S \leftarrow \{\forall Commit(s_i) : s_i \in S_{new} \land i \in \mathbb{Z}^+ \land i \le k \}$\;
    }
    $S_{final} \leftarrow Sort(S_{final})$\;
    \Return{$s_0 \in S_{final}$}
    \caption{Beam search}
\end{algorithm}